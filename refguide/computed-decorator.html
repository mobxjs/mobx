<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>(@)computed | MobX</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.4.3">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-edit-link/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
    

        
    
    
    <link rel="next" href="../refguide/autorun.html" />
    
    
    <link rel="prev" href="../refguide/observable-decorator.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="2.3" data-basepath=".." data-revision="Mon Jan 09 2017 17:58:08 GMT+0100 (CET)">
    

<div class="book-summary">
    <div class="book-search" role="search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" >
            
            <span><b>1.</b> Introduction to MobX</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="intro/overview.html">
            
                
                    <a href="../intro/overview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        The Gist of MobX
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="intro/concepts.html">
            
                
                    <a href="../intro/concepts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Concepts &amp; Principles
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="refguide/api.html">
            
                
                    <a href="../refguide/api.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        API overview
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="refguide/observable.html">
            
                
                    <a href="../refguide/observable.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        observable
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="refguide/observable-decorator.html">
            
                
                    <a href="../refguide/observable-decorator.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        @observable
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="2.3" data-path="refguide/computed-decorator.html">
            
                
                    <a href="../refguide/computed-decorator.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        (@)computed
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="refguide/autorun.html">
            
                
                    <a href="../refguide/autorun.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        autorun
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="refguide/observer-component.html">
            
                
                    <a href="../refguide/observer-component.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        (@)observer
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="refguide/action.html">
            
                
                    <a href="../refguide/action.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        action
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" >
            
            <span><b>3.</b> Observable Types</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="refguide/object.html">
            
                
                    <a href="../refguide/object.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        objects
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="refguide/array.html">
            
                
                    <a href="../refguide/array.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        arrays
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="refguide/map.html">
            
                
                    <a href="../refguide/map.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        maps
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="refguide/boxed.html">
            
                
                    <a href="../refguide/boxed.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        boxed values
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="best/react.html">
            
                
                    <a href="../best/react.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Understanding what MobX reacts to
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="best/decorators.html">
            
                
                    <a href="../best/decorators.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        How to (not) use decorators
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" >
            
            <span><b>6.</b> Resources</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="faq/blogs.html">
            
                
                    <a href="../faq/blogs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Tutorials, videos and blogs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="faq/related.html">
            
                
                    <a href="../faq/related.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Related Projects
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="faq/examples.html">
            
                
                    <a href="../faq/examples.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        Examples projects
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="faq/boilerplates.html">
            
                
                    <a href="../faq/boilerplates.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        Boilerplates
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="faq/faq.html">
            
                
                    <a href="../faq/faq.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                        Frequently Asked Questions
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" >
            
            <span><b>7.</b> Tips &amp; Tricks</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="best/pitfalls.html">
            
                
                    <a href="../best/pitfalls.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Common Pitfalls &amp; Best Practices
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="best/store.html">
            
                
                    <a href="../best/store.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Defining data stores
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="best/actions.html">
            
                
                    <a href="../best/actions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Writing (async) actions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="best/react-performance.html">
            
                
                    <a href="../best/react-performance.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                        Optimizing React components
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="best/devtools.html">
            
                
                    <a href="../best/devtools.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.5.</b>
                        
                        DevTools
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="best/syntax.html">
            
                
                    <a href="../best/syntax.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.</b>
                        
                        ES5 / ES6 / TypeScript syntax
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="best/stateless-HMR.html">
            
                
                    <a href="../best/stateless-HMR.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.7.</b>
                        
                        Stateless Components and Hot Module Reloading
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" >
            
            <span><b>8.</b> Utility functions</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="refguide/autorun-async.html">
            
                
                    <a href="../refguide/autorun-async.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        autorunAsync
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="refguide/extending.html">
            
                
                    <a href="../refguide/extending.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Atom &amp; Reaction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="refguide/create-transformer.html">
            
                
                    <a href="../refguide/create-transformer.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        createTransformer
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="refguide/expr.html">
            
                
                    <a href="../refguide/expr.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        expr
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="refguide/extend-observable.html">
            
                
                    <a href="../refguide/extend-observable.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.</b>
                        
                        extendObservable
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.6" data-path="refguide/is-observable.html">
            
                
                    <a href="../refguide/is-observable.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.</b>
                        
                        isObservable
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.7" data-path="refguide/modifiers.html">
            
                
                    <a href="../refguide/modifiers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.7.</b>
                        
                        modifiers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.8" data-path="refguide/observe.html">
            
                
                    <a href="../refguide/observe.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.8.</b>
                        
                        intercept &amp; observe
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.9" data-path="refguide/reaction.html">
            
                
                    <a href="../refguide/reaction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.9.</b>
                        
                        reaction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.10" data-path="refguide/spy.html">
            
                
                    <a href="../refguide/spy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.10.</b>
                        
                        spy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.11" data-path="refguide/tojson.html">
            
                
                    <a href="../refguide/tojson.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.11.</b>
                        
                        toJS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.12" data-path="refguide/transaction.html">
            
                
                    <a href="../refguide/transaction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.12.</b>
                        
                        transaction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.13" data-path="refguide/untracked.html">
            
                
                    <a href="../refguide/untracked.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.13.</b>
                        
                        untracked
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.14" data-path="refguide/when.html">
            
                
                    <a href="../refguide/when.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.14.</b>
                        
                        when
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="donating.html">
            
                
                    <a href="../donating.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Donate
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >MobX</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <a id="edit-link" href="https://github.com/mobxjs/mobx/tree/gh-pages/docs/refguide/computed-decorator.md" class="btn fa fa-edit pull-left">&nbsp;&nbsp;Edit This Page</a><h1 id="-computed">(@)computed</h1>
<p>Computed values are values that can be derived from the existing state or other computed values.
Conceptually, they are very similar to formulas in spreadsheets.
Computed values can&apos;t be underestimated, as they help you to make your actual modifyable state as small as possible.
Besides that they are higly optimized, so use them whereever possible.</p>
<p>Don&apos;t confuse <code>computed</code> with <code>autorun</code>. They are both reactively invoked expressions,
but use <code>@computed</code> if you want to reactively produce a <em>value</em> that can be used by other observers and
<code>autorun</code> if you don&apos;t want to produce a new value but rather want ot achieve an <em>effect</em>.
For example imperative side effects like logging, making network requests etc.</p>
<p>Computed values are automatically derived from your state if any value that affects them changes.
Computed values can be optimized away in many cases by MobX as they are assumed to be pure.
For example, a computed property won&apos;t re-run if none of the data used in the previous computation did change.
Nor will a computed property re-run if is not in use by some other computed property or reaction.
In such cases it will be suspended.</p>
<p>This automatic suspension is very convenient; it means that a computed value that is not observed anymore (for example because the UI in which it was used has disappeared)
can automatically be garbabged collected by MobX, and unlike <code>autorun</code>&apos;s you don&apos;t have to dispose them yourself.
This sometimes confuses people new to MobX; if you create a computed property but don&apos;t use it anywhere in a reaction, it will not cache it&apos;s value and recompute more often than seems necesarray.
However, in real life situations this by far the best default, and you can always forcefully keep a computed value awake if you need to by using either <a href="observe.html"><code>observe</code></a> or <a href="https://github.com/mobxjs/mobx-utils#keepalive" target="_blank"><code>keepAlive</code></a>.</p>
<p>Note that <code>computed</code> properties are not enumerable. Nor can they be overwritten in an inheritance chain.</p>
<h2 id="-computed"><code>@computed</code></h2>
<p>If you have <a href="../best/decorators.html">decorators enabled</a> you can use the <code>@computed</code> decorator on any getter of a class property to declaratively created computed properties.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> {observable, computed} <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderLine</span> </span>{
    @observable price:number = <span class="hljs-number">0</span>;
    @observable amount:number = <span class="hljs-number">1</span>;

    constructor(price) {
        <span class="hljs-keyword">this</span>.price = price;
    }

    @computed get total() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.price * <span class="hljs-keyword">this</span>.amount;
    }
}
</code></pre>
<h2 id="-computed-modifier"><code>computed</code> modifier</h2>
<p>If your environment doesn&apos;t support decorators, use the <code>computed(expression)</code> modifier incombination with <code>extendObservable</code> / <code>observable</code> to introduce new computed properties.</p>
<p><code>@computed get propertyName() { }</code> is basically sugar for <a href="extend-observable.html"><code>extendObservable(this, { propertyName: get func() { } })</code></a> in the constructor call.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> {extendObservable, computed} <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderLine</span> </span>{
    constructor(price) {
        extendObservable(<span class="hljs-keyword">this</span>, {
            price: price,
            amount: <span class="hljs-number">1</span>,
            <span class="hljs-comment">// valid:</span>
            get total() {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.price * <span class="hljs-keyword">this</span>.amount
            },
            <span class="hljs-comment">// also valid:</span>
            total: computed(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.price * <span class="hljs-keyword">this</span>.amount
            })
        })
    }
}
</code></pre>
<h2 id="setters-for-computed-values">Setters for computed values</h2>
<p>It is possible to define a setter for computed values as well. Note that these setters cannot be used to alter the value of the computed property directly,
but they can be used as &apos;inverse&apos; of the derivation. For example:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> box = observable({
    length: <span class="hljs-number">2</span>,
    get squared() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.length * <span class="hljs-keyword">this</span>.length;
    },
    set squared(value) {
        <span class="hljs-keyword">this</span>.length = <span class="hljs-built_in">Math</span>.sqrt(value);
    }
});
</code></pre>
<p>And similarly</p>
<pre><code class="lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>{
    @observable length: <span class="hljs-number">2</span>,
    @computed get squared() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.length * <span class="hljs-keyword">this</span>.length;
    }
    set squared(value) { <span class="hljs-comment">//this is automatically an action, no annotation necessary</span>
        <span class="hljs-keyword">this</span>.length = <span class="hljs-built_in">Math</span>.sqrt(value);
    }
}
</code></pre>
<p><em>Note: always define the setter <em>after</em> the getter, some TypeScript versions are known to declare two properties with the same name otherwise.</em></p>
<p><em>Note: setters require MobX 2.5.1 or higher</em></p>
<h2 id="-computed-expression-as-function"><code>computed(expression)</code> as function</h2>
<p><code>computed</code> can also be invoked directly as function.
Just like <code>observable.box(primitive value)</code> it will create a stand-alone observable.
Use <code>.get()</code> on the returned object to get the current value of the computation, or <code>.observe(callback)</code> to observe its changes.
This form of <code>computed</code> is not used very often, but in some cases where you need to pass a &quot;boxed&quot; computed value around it might prove useful.</p>
<p>Example:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> {observable, computed} <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span>;
<span class="hljs-keyword">var</span> name = observable(<span class="hljs-string">&quot;John&quot;</span>);

<span class="hljs-keyword">var</span> upperCaseName = computed(() =&gt;
    name.get().toUpperCase()
);

<span class="hljs-keyword">var</span> disposer = upperCaseName.observe(change =&gt; <span class="hljs-built_in">console</span>.log(change.newValue));

name.set(<span class="hljs-string">&quot;Dave&quot;</span>);
<span class="hljs-comment">// prints: &apos;DAVE&apos;</span>
</code></pre>
<h2 id="options-for-computed">Options for <code>computed</code></h2>
<p>When using <code>computed</code> as modifier or as box, it accepts a second options argument with the following optional arguments:</p>
<ul>
<li><code>name</code>: String, the debug name used in spy and the MobX devtools</li>
<li><code>context</code>: The <code>this</code> that should be used in the provided expression</li>
<li><code>setter</code>: The setter function to be used. Without setter it is not possible to assign new values to a computed value. If the second argument passed to <code>computed</code> is a function, this is assumed to be a setter.</li>
<li><code>compareStructural</code>: By default <code>false</code>. If this value, the output of the expression is structurally compared with the previous value before any observer is notified about a change. This makes sure that observers of the computation don&apos;t re-evaluate if new structures are returned that are structurally equal to the original ones. This is very useful when working with point, vector or color structures for example.</li>
</ul>
<h2 id="-computed-struct-for-structural-comparison"><code>@computed.struct</code> for structural comparison</h2>
<p>The <code>@computed</code> decorator does not take arguments. If you want to to create a computed property which does structural comparison, use <code>@computed.struct</code>.</p>
<h2 id="note-on-error-handling">Note on error handling</h2>
<p>If a computed value throws an exception during it&apos;s computation, this exception will be catched and rethrown any time it&apos;s value is read.
It is strongly recommended to always throw <code>Error</code>&apos;s, so that the original stack trace is preserved. E.g.: <code>throw new Error(&quot;Uhoh&quot;)</code> instead of <code>throw &quot;Uhoh&quot;</code>.
Throwing exceptions doesn&apos;t break tracking, so it is possible for computed values to recover from exceptions.</p>
<p>Example:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> x = observable(<span class="hljs-number">3</span>)
<span class="hljs-keyword">const</span> y = observable(<span class="hljs-number">1</span>)
<span class="hljs-keyword">const</span> divided = computed(() =&gt; {
    <span class="hljs-keyword">if</span> (y.get() === <span class="hljs-number">0</span>)
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&quot;Division by zero&quot;</span>)
    <span class="hljs-keyword">return</span> x.get() / y.get()
})

divided.get() <span class="hljs-comment">// returns 3</span>

y.set(<span class="hljs-number">0</span>) <span class="hljs-comment">// OK</span>
divided.get() <span class="hljs-comment">// Throws: Division by zero</span>
divided.get() <span class="hljs-comment">// Throws: Division by zero</span>

y.set(<span class="hljs-number">2</span>)
divided.get() <span class="hljs-comment">// Recovered; Returns 1.5</span>
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../refguide/observable-decorator.html" class="navigation navigation-prev " aria-label="Previous page: @observable"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../refguide/autorun.html" class="navigation navigation-next " aria-label="Next page: autorun"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-github/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-disqus/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"github":{"url":"https://github.com/mobxjs/mobx"},"edit-link":{"base":"https://github.com/mobxjs/mobx/tree/gh-pages/docs","label":"Edit This Page"},"ga":{"token":"UA-65632006-1","configuration":"auto"},"disqus":{"shortName":"mobservable"}};
    gitbook.start(config);
});
</script>

        <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-65632006-1', 'auto');ga('send', 'pageview');</script>
    </body>
    
</html>
